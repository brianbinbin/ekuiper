make --dry-run --always-make --keep-going --print-directory
make: Entering directory `/Users/bxb/workbench/emq/ekuiper'
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/bin
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/etc
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/etc/sources
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/etc/sinks
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/etc/services
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/etc/services/schemas
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/data
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/plugins
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/plugins/sources
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/plugins/sinks
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/plugins/functions
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/plugins/portable
mkdir -p _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/log
cp -r etc/* _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/etc
GO111MODULE=on CGO_ENABLED=1 go build -ldflags="-s -w -X main.Version=1.5.1-9-g00805b36 -X main.LoadFileType=relative" -o kuiper cmd/kuiper/main.go
GO111MODULE=on CGO_ENABLED=1 go build -trimpath -ldflags="-s -w -X main.Version=1.5.1-9-g00805b36 -X main.LoadFileType=relative" -o kuiperd cmd/kuiperd/main.go
if [ ! -z $(which upx) ]; then upx ./kuiper; upx ./kuiperd; fi
mv ./kuiper ./kuiperd _build/kuiper-1.5.1-9-g00805b36-darwin-amd64/bin
echo "Build successfully"
make: Leaving directory `/Users/bxb/workbench/emq/ekuiper'
 
